name: Test Discord Message

on:
  workflow_dispatch:   # ØªÙ‚Ø¯Ø± ØªØ´ØºÙ„Ù‡ ÙŠØ¯ÙˆÙŠÙ‹Ø§ Ù…Ù† ØªØ¨ÙˆÙŠØ¨ Actions
  schedule:
    - cron: "0 9 * * *"  # (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) ÙŠØ´ØºÙ„Ù‡ ÙŠÙˆÙ…ÙŠÙ‹Ø§ Ø§Ù„Ø³Ø§Ø¹Ø© 9:00 ØµØ¨Ø§Ø­Ù‹Ø§ UTC

jobs:
  send-test:
    runs-on: ubuntu-latest
    steps:
      - name: Send "test" message to Discord
        env:
          WEBHOOK_URL: ${{ secrets.WEBHOOK_URL }}
        run: |
          echo "Sending test message to Discord..."
          node - <<'NODE'
          const url = process.env.WEBHOOK_URL;
          const message = { content: "ðŸ§ª test" };
          fetch(url, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(message)
          })
          .then(r => console.log("Status:", r.status))
          .catch(err => console.error("Error:", err));
          NODE
